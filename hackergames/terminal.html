<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>GÃ¶rev Terminali</title>
  <style>
    :root {
      --primary-color: #00FF00;
      --secondary-color: #00CC00;
      --background-color: #000000;
      --text-color: #00FF00;
      --error-color: #FF0000;
      --success-color: #00FF00;
      --warning-color: #FFFF00;
    }

    body {
      margin: 0;
      background: var(--background-color);
      color: var(--text-color);
      font-family: 'Fira Code', 'Courier New', monospace;
      font-size: 1em;
      line-height: 1.6;
    }

    #terminal {
      margin-top: 20px;
      padding: 20px;
      height: calc(85vh - 20px);
      overflow-y: auto;
      white-space: pre-wrap;
      background: rgba(0, 0, 0, 0.9);
      border: 1px solid var(--primary-color);
      box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
      position: relative;
      z-index: 1;
      margin-right: 260px;
    }

    #terminal::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
      animation: scan 2s linear infinite;
    }

    @keyframes scan {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    #command {
      width: calc(100% - 260px);
      padding: 10px;
      border: none;
      background: var(--background-color);
      color: var(--text-color);
      font-family: 'Fira Code', monospace;
      font-size: 1em;
      border-top: 1px solid var(--primary-color);
      outline: none;
      transition: all 0.3s ease;
      margin-right: 260px;
    }

    #command:focus {
      box-shadow: 0 0 10px var(--primary-color);
    }

    #timer {
      position: fixed;
      top: 10px;
      right: 20px;
      background-color: rgba(0, 0, 0, 0.8);
      border: 1px solid var(--primary-color);
      padding: 4px 14px;
      font-family: 'Fira Code', monospace;
      font-size: 1.6em;
      z-index: 9999;
      transition: all 0.3s ease;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
      width: 200px;
      text-align: center;
    }

    #lives {
      position: fixed;
      top: 60px;
      right: 20px;
      color: var(--primary-color);
      background-color: rgba(0, 0, 0, 0.8);
      border: 1px solid var(--primary-color);
      padding: 4px 14px;
      font-family: 'Fira Code', monospace;
      font-size: 1.1em;
      z-index: 9999;
      transition: all 0.3s ease;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
      transform: translateZ(0);
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 7px;
      width: 200px;
    }

    .data-text {
      font-size: 0.9em;
      color: var(--primary-color);
      width: 100%;
      text-align: center;
    }

    .data-boxes {
      display: flex;
      flex-direction: column;
      gap: 7px;
      width: 100%;
    }

    .data-box {
      width: 24px;
      height: 24px;
      position: relative;
      display: flex;
      align-items: center;
      gap: 8px;
      padding-right: 8px;
    }

    .data-box::before {
      content: '';
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Font Awesome 6 Brands", "Font Awesome 6 Free";
      font-weight: 900;
      font-size: 18px;
      color: var(--primary-color);
    }

    .data-box[data-type="WhatsApp"]::before {
      content: "\f232";
      font-family: "Font Awesome 6 Brands";
    }

    .data-box[data-type="Instagram"]::before {
      content: "\f16d";
      font-family: "Font Awesome 6 Brands";
    }

    .data-box[data-type="Galeri"]::before {
      content: "\f03e";
      font-family: "Font Awesome 6 Free";
    }

    .data-box[data-type="Rehber"]::before {
      content: "\f007";
      font-family: "Font Awesome 6 Free";
    }

    .data-box[data-type="Banka"]::before {
      content: "\f19c";
      font-family: "Font Awesome 6 Free";
    }

    .data-box.lost::before {
      opacity: 0.3;
    }

    .data-box.lost::after {
      color: var(--error-color);
    }

    .data-box::after {
      content: attr(data-type);
      position: static;
      font-size: 0.8em;
      color: var(--primary-color);
      margin-left: 35px;
      white-space: nowrap;
    }

    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      height: 5px;
      background: var(--primary-color);
      z-index: 9998;
      transition: width 1s linear, background 0.3s ease;
      box-shadow: 0 0 10px var(--primary-color);
    }
    #tasks {
      position: fixed;
      top: 260px;
      right: 20px;
      background-color: rgba(0, 0, 0, 0.8);
      border: 1px solid var(--primary-color);
      padding: 8px 14px;
      font-family: 'Fira Code', monospace;
      font-size: 1em;
      color: var(--primary-color);
      z-index: 9999;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
      width: 200px;
    }
    
    .task-text {
      font-size: 0.95em;
      font-weight: bold;
      text-align: center;
      color: var(--primary-color);
      margin-bottom: 8px;
      display: block;
    }
    
    .task-items {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    
    .task-item {
      background-color: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--primary-color);
      padding: 8px 12px;
      border-radius: 3px;
      font-size: 0.9em;
      color: var(--primary-color);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .task-number {
      color: var(--warning-color);
      font-weight: bold;
      background: rgba(255, 255, 0, 0.1);
      padding: 2px 6px;
      border-radius: 3px;
      border: 1px solid var(--warning-color);
      font-size: 0.85em;
    }
    
    .task-content {
      flex: 1;
    }
    
    .task-item:hover {
      background-color: rgba(0, 255, 0, 0.1);
      cursor: pointer;
    }
    .bluescreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #0000AA;
      color: white;
      font-family: 'Fira Code', monospace;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      text-align: center;
      animation: flicker 0.5s infinite;
    }

    .bluescreen-content {
      max-width: 600px;
    }

    .bluescreen-header {
      font-size: 24px;
      margin-bottom: 20px;
      color: #FFFFFF;
    }

    .bluescreen-body {
      font-size: 18px;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .bluescreen-progress {
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      margin: 20px 0;
      border-radius: 2px;
      overflow: hidden;
    }

    .bluescreen-progress-bar {
      width: 0%;
      height: 100%;
      background: white;
      transition: width 0.1s linear;
    }

    .bluescreen-footer {
      font-size: 16px;
      color: rgba(255, 255, 255, 0.8);
    }

    @keyframes flicker {
      0% { opacity: 1; }
      50% { opacity: 0.8; }
      100% { opacity: 1; }
    }

    #explosion {
      position: fixed;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--error-color);
      font-size: 2em;
      font-family: 'Fira Code', monospace;
      z-index: 9999;
      animation: shake 0.5s infinite;
      display: none;
      text-shadow: 0 0 10px var(--error-color);
    }

    @keyframes shake {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      25% { transform: translate(-50%, -50%) rotate(-3deg); }
      50% { transform: translate(-50%, -50%) rotate(3deg); }
      75% { transform: translate(-50%, -50%) rotate(-3deg); }
      100% { transform: translate(-50%, -50%) rotate(0deg); }
    }

    .command-history {
      position: fixed;
      bottom: 60px;
      right: 20px;
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid var(--primary-color);
      padding: 10px;
      max-height: 200px;
      overflow-y: auto;
      display: none;
    }

    .command-history.active {
      display: block;
    }

    .success-message {
      color: var(--success-color);
      animation: fadeIn 0.5s ease;
    }

    .error-message {
      color: var(--error-color);
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .tooltip {
      position: absolute;
      background: rgba(0, 0, 0, 0.9);
      border: 1px solid var(--primary-color);
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 0.9em;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .tooltip.visible {
      opacity: 1;
    }

    .matrix-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      background: linear-gradient(
        rgba(0, 255, 0, 0.03) 50%,
        transparent 50%
      );
      background-size: 100% 4px;
      animation: matrix 0.5s linear infinite;
    }

    .scanline {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 2;
      background: linear-gradient(
        to bottom,
        transparent 50%,
        rgba(0, 255, 0, 0.02) 50%
      );
      background-size: 100% 4px;
      animation: scan 8s linear infinite;
    }

    @keyframes matrix {
      0% { background-position: 0 0; }
      100% { background-position: 0 4px; }
    }

    @keyframes scan {
      0% { background-position: 0 0; }
      100% { background-position: 0 100%; }
    }

    .terminal-text {
      position: relative;
      display: inline-block;
      text-shadow: 0 0 5px rgba(0, 255, 0, 0.3);
    }

    .terminal-text.active::after {
      content: '|';
      position: absolute;
      right: -2px;
      animation: blink 1s step-end infinite;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    .success-text {
      color: var(--success-color);
      text-shadow: 0 0 5px var(--success-color);
    }

    .error-text {
      color: var(--error-color);
      text-shadow: 0 0 5px var(--error-color);
    }

    .warning-text {
      color: var(--warning-color);
      text-shadow: 0 0 5px var(--warning-color);
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    #lives.warning {
      animation: pulse 0.5s infinite;
    }

    .task-status {
      position: fixed;
      bottom: 430px;
      right: 20px;
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid var(--primary-color);
      padding: 8px 14px;
      font-family: 'Fira Code', monospace;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
      width: 200px;
      z-index: 9999;
    }

    .task-progress {
      margin-bottom: 5px;
    }

    .progress-text {
      font-size: 0.9em;
      margin-bottom: 5px;
      color: var(--primary-color);
    }

    .progress-bar-container {
      width: 100%;
      height: 4px;
      background: rgba(0, 255, 0, 0.2);
      border-radius: 2px;
      overflow: hidden;
    }

    .progress-bar-fill {
      height: 100%;
      background: var(--primary-color);
      width: 0%;
      transition: width 0.3s ease;
    }

    .current-task {
      font-size: 0.9em;
      color: var(--primary-color);
      text-align: center;
    }

    .task-header {
      font-size: 1.2em;
      font-weight: bold;
      color: var(--primary-color);
      margin-bottom: 10px;
      text-shadow: 0 0 8px rgba(0, 255, 0, 0.5);
    }

    .task-content {
      background: rgba(0, 0, 0, 0.7);
      padding: 15px;
      border-radius: 4px;
      border: 1px solid rgba(0, 255, 0, 0.3);
      margin: 10px 0;
    }

    .warning-message {
      color: var(--warning-color);
      background: rgba(255, 255, 0, 0.1);
      padding: 10px;
      border: 1px solid var(--warning-color);
      border-radius: 4px;
      margin: 10px 0;
      width: 100%;
    }

    .task-container {
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid var(--primary-color);
      border-radius: 4px;
      width: 100%;
    }
/* Panel kapsayÄ±cÄ± */
#task-panel {
  position: fixed;
  bottom: 300px;
  right: 20px;
  background-color: rgba(0, 0, 0, 0.8);
  border: 1px solid var(--primary-color);
  padding: 12px 16px;
  font-family: 'Fira Code', monospace;
  font-size: 1em;
  color: var(--primary-color);
  z-index: 9999;
  border-radius: 6px;
  box-shadow: 0 0 12px rgba(0, 255, 0, 0.2);
  width: 200px;

  display: flex;
  flex-direction: column;   /* SÃ¼tuna Ã§evir */
  align-items: center;      /* Yatayda ortala */
  gap: 6px;                 /* Buton ile metin arasÄ± boÅluk */
}

/* Ä°pucu butonu */
.hint-button {
  background: transparent;
  border: 1px solid var(--primary-color);
  width: 100%;
  padding: 8px 8px;
  border-radius: 4px;
  font-family: 'Fira Code', monospace;
  font-size: 1.2em;
  color: var(--primary-color);
  cursor: pointer;
  transition: background-color 0.3s ease, transform 0.1s ease;
}

.hint-button:hover {
  background-color: rgba(0, 255, 0, 0.1);
  transform: translateY(-2px);
}

/* KÄ±rmÄ±zÄ± uyarÄ± metni */
.leak-warning {
  color: #ff4d4d;
  font-size: 0.85em;
  text-align: center;
  margin: 0;   /* Fazla boÅluÄu kaldÄ±r */
}

    .error-message {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(255, 0, 0, 0.1);
      color: var(--error-color);
      padding: 10px;
      border: 1px solid var(--error-color);
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
      z-index: 9999;
      width: 200px;
      text-align: center;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .last-life-warning {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 0, 0, 0.9);
      color: white;
      padding: 20px 40px;
      border: 2px solid #ff0000;
      border-radius: 8px;
      font-size: 24px;
      font-weight: bold;
      text-align: center;
      z-index: 9999;
      animation: pulseWarning 0.5s infinite, fadeInOut 3s forwards;
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
    }

    @keyframes pulseWarning {
      0% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.1); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }

    @keyframes fadeInOut {
      0% { opacity: 0; }
      20% { opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; }
    }

    .hacked-profs {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: rgba(0, 0, 0, 0.8);
      border: 1px solid var(--primary-color);
      padding: 8px 14px;
      font-family: 'Fira Code', monospace;
      border-radius: 4px;
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
      width: 200px;
      z-index: 9999;
    }

    .hacked-header {
      color: var(--primary-color);
      font-size: 1.1em;
      text-align: center;
      margin-bottom: 10px;
      text-shadow: 0 0 8px rgba(0, 255, 0, 0.5);
    }

    .hacked-list {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .hacked-item {
      color: var(--success-color);
      font-size: 0.9em;
      padding: 5px;
      border: 1px solid rgba(0, 255, 0, 0.3);
      border-radius: 3px;
      text-align: center;
      background: rgba(0, 255, 0, 0.1);
      transition: all 0.3s ease;
    }

    .hacked-item:hover {
      background: rgba(0, 255, 0, 0.2);
      transform: translateX(5px);
    }

    .nano-editor {
      background: #000;
      border: 1px solid var(--primary-color);
      margin: 10px 0;
      padding: 5px;
      font-family: 'Fira Code', monospace;
    }

    .editor-header {
      color: var(--primary-color);
      border-bottom: 1px solid var(--primary-color);
      padding: 5px;
      margin-bottom: 5px;
    }

    .editor-content {
      white-space: pre;
      padding: 5px;
      min-height: 200px;
      color: var(--text-color);
    }

    .editor-footer {
      border-top: 1px solid var(--primary-color);
      padding: 5px;
      display: flex;
      justify-content: space-between;
      color: var(--primary-color);
    }

    .cursor {
      background: var(--primary-color);
      color: #000;
    }

    .password-cracking-animation {
      margin: 10px 0;
      font-family: 'Fira Code', monospace;
    }
    
    .password-attempt {
      color: var(--text-color);
      margin: 2px 0;
      animation: fadeIn 0.3s ease;
    }
    
    .password-attempt:last-child {
      color: var(--success-color);
      font-weight: bold;
    }

    .directory-listing {
      margin: 10px 0;
      padding: 10px;
      background: rgba(0, 255, 0, 0.05);
      border: 1px solid var(--primary-color);
      border-radius: 4px;
      font-family: 'Fira Code', monospace;
    }

    .file-item {
      padding: 4px 8px;
      color: var(--text-color);
      display: flex;
      align-items: center;
      gap: 8px;
      border-bottom: 1px solid rgba(0, 255, 0, 0.1);
    }

    .file-item:last-child {
      border-bottom: none;
    }

    .file-item[data-type="directory"] {
      color: var(--primary-color);
      font-weight: bold;
    }

    .file-item[data-type="file"] {
      color: var(--text-color);
    }

    .file-item:hover {
      background: rgba(0, 255, 0, 0.1);
      cursor: pointer;
    }
    
    .info-text {
      color: var(--warning-color);
      margin: 5px 0;
      padding: 5px;
      font-style: italic;
    }

    .hint-text {
      color: var(--warning-color);
      font-style: italic;
      font-size: 0.9em;
    }

    .task-item {
      background-color: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--primary-color);
      padding: 8px 12px;
      border-radius: 3px;
      font-size: 0.9em;
      color: var(--primary-color);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .task-number {
      color: var(--warning-color);
      font-weight: bold;
      background: rgba(255, 255, 0, 0.1);
      padding: 2px 6px;
      border-radius: 3px;
      border: 1px solid var(--warning-color);
    }

    .task-content {
      flex: 1;
    }

    .task-item:hover {
      background-color: rgba(0, 255, 0, 0.1);
      cursor: pointer;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<div class="status-container">
  <div class="status-item" id="timer">10:00</div>
  <div class="status-item" id="lives">
    <span class="data-text">Veriler SÄ±zÄ±yor:</span>
    <div class="data-boxes">
      <div class="data-box" data-type="WhatsApp"></div>
      <div class="data-box" data-type="Instagram"></div>
      <div class="data-box" data-type="Galeri"></div>
      <div class="data-box" data-type="Rehber"></div>
      <div class="data-box" data-type="Banka"></div>
    </div>
  </div>
</div>
<div id="tasks">
  <span class="task-text">Aktif GÃ¶rev:</span>
  <div class="task-items" id="taskItems">
    <div class="task-item">
      <span class="task-content">Sunucudan veri Ã§ek</span>
    </div>
  </div>
</div>
<div class="task-status">
  <div class="task-progress">
    <div class="progress-text">GÃ¶rev Ä°lerlemesi</div>
    <div class="progress-bar-container">
      <div class="progress-bar-fill"></div>
    </div>
  </div>
  <div class="current-task">GÃ¶rev 0/7</div>
</div>

<div id="task-panel">
  <button class="hint-button">Ä°pucu</button>
  <p class="leak-warning">â ï¸ Her iki ipucuda 1 veri sÄ±zdÄ±rÄ±lacak.</p>
</div>


<div class="hacked-profs">
  <div class="hacked-header">Hedef Kurbanlar</div>
  <div class="hacked-list">
    <div class="hacked-item">A. Åenel</div>
    <div class="hacked-item">S. BaydÄ±nar</div>
    <div class="hacked-item">H. Boran</div>
    <div class="hacked-item">E. Åafak</div>
  </div>
</div>

<div class="progress-bar" id="progress"></div>
<div id="explosion">ð¥ PATLAMA! SÃ¼re dolmak Ã¼zere!</div>
<div id="terminal"></div>
<div class="matrix-overlay"></div>
<div class="scanline"></div>
<div class="command-history" id="commandHistory"></div>
<div class="command-hints" id="commandHints"></div>
<input type="text" id="command" placeholder="komut girin..." autocomplete="off" autofocus>

<script>
document.addEventListener("DOMContentLoaded", function () {
  // Sayfa yÃ¼klendiÄinde tÃ¼m geÃ§miÅi temizle
  localStorage.clear();
  sessionStorage.clear();
  
  const terminal = document.getElementById("terminal");
  const input = document.getElementById("command");
  const livesEl = document.getElementById("lives");
  const timerEl = document.getElementById("timer");
  const progressBar = document.getElementById("progress");
  const explosion = document.getElementById("explosion");
  const commandHistory = document.getElementById("commandHistory");
  
  // Komut geÃ§miÅini temizle
  if (commandHistory) {
    commandHistory.innerHTML = '';
  }

  let gÃ¶revIndex = 0;
  let veri = 5;
  let kalanSaniye = 10 * 60;
  let hÄ±zKatÄ± = 1;
  let commandHistoryIndex = -1;
  let commandHistoryList = []; // Her sayfa yÃ¼klendiÄinde boÅ baÅlar
  let score = 0;
  
  // Komut geÃ§miÅini temizle
  commandHistoryList = [];
  commandHistoryIndex = -1;
  let isEditorMode = false;
  let currentEditorContent = '';
  let currentCursorPosition = 0;
  let timerInterval;
  let ipucuSayisi = 0;

  const ogreticiNotlar = [
    "ð¡ DHCP komutu: 'dhcp-discover' ile baÅlar ve '--interface eth0' parametresi ile devam eder. Bu komut aÄdaki DHCP sunucusundan IP adresi ister.",
    "ð¡ Nmap ile aÄ taramasÄ± yapmak iÃ§in: 'nmap -sn [aÄ_adresi]' formatÄ±nÄ± kullan. Ãrnek: nmap -sn 10.16.0.0/24",
    "ð¡ Hydra ile parola kÄ±rmak iÃ§in: 'hydra -l [kullanÄ±cÄ±] -P [wordlist] [servis]://[hedef]' formatÄ±nÄ± kullan.",
    "ð¡ sshpass ile otomatik SSH baÄlantÄ±sÄ± iÃ§in: 'sshpass -p [parola] ssh [kullanÄ±cÄ±]@[hedef]' formatÄ±nÄ± kullan.",
    "ð¡ locate komutu ile dosya aramak iÃ§in: 'locate [dosya_adÄ±]' formatÄ±nÄ± kullan.",
    "ð¡ nano editÃ¶rÃ¼ ile dosya dÃ¼zenlemek iÃ§in: 'nano [dosya_yolu]' formatÄ±nÄ± kullan. Kaydetmek iÃ§in CTRL+O, Ã§Ä±kmak iÃ§in CTRL+X",
    "ð¡ Oturumu kapatmak iÃ§in 'exit' komutunu kullan."
  ];

  const gÃ¶revler = [
    {
      soru: ">> GÃREV #1: DÃZCE ÃNÄ°VERSÄ°TESÄ° yerel aÄÄ±na sÄ±zmak iÃ§in doÄru DHCP komutunu gir.\n>> Komut: ________ --interface ______",
      cevap: "dhcp-discover --interface eth0",
      yanÄ±t: "IP adresi alÄ±ndÄ±: 10.16.23.48  [â]"
    },
    {
      soru: ">> GÃREV #2: Yerel aÄdaki cihazlarÄ± tespit etmek iÃ§in doÄru Nmap komutunu gir.\n>> Komut: ________ -sn ______",
      cevap: "nmap -sn 10.16.0.0/24",
      yanÄ±t: "AÄ taramasÄ± tamamlandÄ±: 10.16.0.88 (t.timucin cihazÄ±) bulundu.  [â]"
    },
    {
      soru: ">> GÃREV #3: SSH Ã¼zerinden hedef cihazda oturum aÃ§mak iÃ§in doÄru Hydra komutunu gir.\n>> Komut: hydra -l ______ -P ______ /usr/share/wordlists/deneneceksifreler.txt ssh://_____",
      cevap: "hydra -l t.timucin -P /usr/share/wordlists/deneneceksifreler.txt ssh://10.16.0.88",
      yanÄ±t: "Parola bulundu: Tunahan.123  [â]",
      showPasswordCracking: true
    },
    {
      soru: ">> GÃREV #4: Hedef cihazda SSH ile oturum aÃ§mak iÃ§in sshpass kullanarak tek komutta baÄlanÄ±n.\n>> Komut: ______",
      cevap: "sshpass -p Tunahan.123 ssh t.timucin@10.16.0.88",
      yanÄ±t: "SSH baÄlantÄ±sÄ± kuruldu.  [â]"
    },
    {
      soru: ">> GÃREV #5: Hedef cihazda sÄ±nav notlarÄ± dosyasÄ±nÄ± bulmak iÃ§in:\n>> 1. Ãnce 'ls' komutu ile dosyalarÄ± listele\n>> 2. Sonra 'cd Documents' komutu ile Documents dizinine gir\n>> 3. Tekrar 'ls' yazarak dosyalarÄ± listele\n>> 4. Son olarak 'nano organizasyon_vize.txt' yazarak dosyayÄ± aÃ§\n>> BaÅlangÄ±Ã§ konumu: /home/t.timucin",
      cevap: "nano organizasyon_vize.txt",
      yanÄ±t: "Dosya baÅarÄ±yla bulundu! EditÃ¶r aÃ§Ä±lÄ±yor... [â]",
      allowedCommands: ["cd", "ls", "nano"],
      directories: {
        "/home/t.timucin": ["Desktop", "Documents (SÄ±nav notlarÄ± burada olabilir)", "Downloads", "Pictures"],
        "/home/t.timucin/Documents": ["organizasyon_vize.txt (SÄ±nav notlarÄ± dosyasÄ±)", "odevler", "notlar"],
        "Documents": ["organizasyon_vize.txt (SÄ±nav notlarÄ± dosyasÄ±)", "odevler", "notlar"],
        "documents": ["organizasyon_vize.txt (SÄ±nav notlarÄ± dosyasÄ±)", "odevler", "notlar"]  // Add lowercase variant
      },
      currentPath: "/home/t.timucin",
      fileFound: false,
      lsUsed: false,
      cdDocuments: false,
      documentsLsUsed: false // New flag to track ls usage in Documents directory
    },
    {
      soru: ">> GÃREV #6: SÄ±nav notlarÄ±nÄ± gÃ¼ncelleyelim!\n\nð YapÄ±lacaklar:\n1. AÃ§Ä±lan editÃ¶rde Ã¶Ärenci notlarÄ±nÄ± gÃ¶receksiniz\n2. NotlarÄ± deÄiÅtirmek iÃ§in klavyeyi kullanabilirsiniz\n3. DeÄiÅiklikleri kaydetmek iÃ§in CTRL+O tuÅlarÄ±na basÄ±n\n4. EditÃ¶rden Ã§Ä±kmak iÃ§in CTRL+X tuÅlarÄ±na basÄ±n\n\nâ ï¸ Not: EditÃ¶r iÃ§inde yÃ¶n tuÅlarÄ±yla hareket edebilirsiniz",
      cevap: "CTRL+X",
      yanÄ±t: "Notlar baÅarÄ±yla gÃ¼ncellendi ve kaydedildi! [â]",
      editorContent: `# Organizasyon Vize NotlarÄ±
# Dosya: /home/t.timucin/Documents/organizasyon_vize.txt

# ÃÄrenci NotlarÄ±:
1. Ali YÄ±lmaz=65  
2. AyÅe Demir=72  
3. Mehmet Kaya=58  
4. Zeynep Åahin=85  
5. Can ÃztÃ¼rk=70  
6. Deniz YÄ±ldÄ±z=63  
# ... diÄer notlar ...

# Not: NotlarÄ± gÃ¼ncellemek iÃ§in sayÄ±larÄ± deÄiÅtirin
# Kaydetmek iÃ§in CTRL+O, Ã§Ä±kmak iÃ§in CTRL+X tuÅlarÄ±na basÄ±n`,
      editorContent: `# Organizasyon Vize NotlarÄ±
# Dosya: /home/t.timucin/Documents/organizasyon_vize.txt

# ÃÄrenci NotlarÄ±:
1. Ali YÄ±lmaz=65  
2. AyÅe Demir=72  
3. Mehmet Kaya=58  
4. Zeynep Åahin=85  
5. Can ÃztÃ¼rk=70  
6. Deniz YÄ±ldÄ±z=63  
7. Fatma KoÃ§=78  
8. Emre Arslan=92  
9. Yunus AkÄ±ncÄ±=40 
10. Arif Yarencik =25
11. Ãzlem UÃ§ar=69  
12. Berk Kaplan=74  
13. Selin Tuna=88  
14. Suat Ãobankaya=59  
15. Melis Kaya=93  
16. Onur YÄ±lmaz=67  
17. TuÄÃ§e AkÄ±n=79  
18. Enes GÃ¼Ã§lÃ¼ = 22  
19. GÃ¶khan Acar=77  
20. Elvan Tekin=66  
21. Sinem ArÄ±=90  
22. Kaan Demirci=55  
23. Derya Uysal=82  
24. Tolga Ergin=61  
25. BÃ¼Åra Ãetin=94  
26. SeÃ§kin YÄ±lmaz=73  
27. Rabia Kara=68  
28. Cihan Altun=88  
29. Nisanur Kaplan=60  
30. BarÄ±Å Åen=79  
31. Eren Kablan=30 
32. Efe YÄ±ldÄ±rÄ±m=68  
33. Dilan AydÄ±n=74  
34. Emir Demirel=88  
35. Dilara GÃ¼neÅ=64  
36. Ozan Kurt=79  
37. Merve Ãzkan=57  
38. FÄ±rat Åahin=83  
39. Åeyma DemirtaÅ=90  
40. Kemal Can=52  

# Not: NotlarÄ± gÃ¼ncellemek iÃ§in yukarÄ±/aÅaÄÄ± ok tuÅlarÄ± ile hareket edin
#      DeÄiÅiklik yapmak iÃ§in sayÄ±larÄ± dÃ¼zenleyin
#      Kaydetmek iÃ§in CTRL+O, Ã§Ä±kmak iÃ§in CTRL+X

^G YardÄ±m    ^O Kaydet    ^W Ara        ^K Kes        ^X ÃÄ±kÄ±Å
^X Dosyadan ÃÄ±kÄ±Å`,
      editorMode: true
    },
    {
      soru: ">> GÃREV #7: Hedef cihazdaki sadece t.timucin oturum kayÄ±tlarÄ±nÄ± log dosyalarÄ±ndan silmek iÃ§in doÄru komutu gir.\n>> Komut: sed ________ ________ ________",
      cevap: "sed '/t\\.timucin/d' /var/log/auth.log /var/log/secure",
      yanÄ±t: "YalnÄ±zca 't.timucin' kayÄ±tlarÄ± silindi; diÄer loglar dokunulmadÄ±.  [â]"
    }
  ];

  const extraKomutlar = {
    "gÃ¶revi tekrar et": () => gÃ¶revler[gÃ¶revIndex]?.soru || "TÃ¼m gÃ¶revler bitti.",
    "ipucu": () => {
      ipucuSayisi++;
      if (ipucuSayisi % 2 === 0) {
        veri--;
        gÃ¼ncelleVeri();
        return `ð Ä°pucu: ${ogreticiNotlar[gÃ¶revIndex]}\nâ ï¸ Not: 2 ipucu aldÄ±ÄÄ±n iÃ§in 1 veri sÄ±zdÄ±rÄ±ldÄ±. Kalan veri: ${veri}`;
      }
      return `ð Ä°pucu: ${ogreticiNotlar[gÃ¶revIndex]}\nâ ï¸ Not: Bir ipucu daha alÄ±rsan 1 veri sÄ±zdÄ±rÄ±lacak.`;
    }
  };

  // Komut ipuÃ§larÄ±
  const commandHints = {
    'dhcp-discover': 'AÄ arayÃ¼zÃ¼ Ã¼zerinden DHCP keÅfi baÅlatÄ±r',
    'nmap': 'AÄ tarama aracÄ±',
    'hydra': 'Parola kÄ±rma aracÄ±',
    'sshpass': 'SSH parola ile otomatik giriÅ',
    'locate': 'Dosya arama komutu',
    'nano': 'Metin editÃ¶rÃ¼',
    'ipucu': 'Mevcut gÃ¶rev iÃ§in ipucu al',
    'gÃ¶revi tekrar et': 'Mevcut gÃ¶revi tekrar gÃ¶ster'
  };

  // Komut geÃ§miÅi yÃ¶netimi
  function addToHistory(command) {
    if (command && command !== commandHistoryList[0]) {
      commandHistoryList.unshift(command);
      if (commandHistoryList.length > 10) {
        commandHistoryList.pop();
      }
      updateCommandHistory();
    }
  }

  function updateCommandHistory() {
    const historyEl = document.getElementById('commandHistory');
    historyEl.innerHTML = commandHistoryList
      .map(cmd => `<div class="history-item">${cmd}</div>`)
      .join('');
  }

  // Komut otomatik tamamlama
  function getCommandSuggestions(input) {
    const suggestions = [
      'dhcp-discover',
      'nmap',
      'hydra',
      'sshpass',
      'locate',
      'nano',
      'ipucu',
      'gÃ¶revi tekrar et'
    ];
    return suggestions.filter(cmd => cmd.startsWith(input.toLowerCase()));
  }

  // Animasyonlu mesaj gÃ¶sterimi
  function showAnimatedMessage(message, type = 'info') {
    const messageEl = document.createElement('div');
    messageEl.className = `message ${type}-message`;
    messageEl.textContent = message;
    terminal.appendChild(messageEl);
    terminal.scrollTop = terminal.scrollHeight;
    
    setTimeout(() => {
      messageEl.style.opacity = '0';
      setTimeout(() => messageEl.remove(), 500);
    }, 3000);
  }

  // Tooltip gÃ¶sterimi
  function showTooltip(element, text) {
    const tooltip = document.createElement('div');
    tooltip.className = 'tooltip';
    tooltip.textContent = text;
    document.body.appendChild(tooltip);

    const rect = element.getBoundingClientRect();
    tooltip.style.top = `${rect.bottom + 5}px`;
    tooltip.style.left = `${rect.left}px`;
    tooltip.classList.add('visible');

    setTimeout(() => {
      tooltip.classList.remove('visible');
      setTimeout(() => tooltip.remove(), 300);
    }, 2000);
  }

  function gÃ¼ncelleVeri() {
    const dataText = document.createElement('span');
    dataText.className = 'data-text';
    dataText.textContent = 'Veriler SÄ±zÄ±yor:';
    
    const dataBoxes = document.createElement('div');
    dataBoxes.className = 'data-boxes';
    
    const veriTipleri = ['WhatsApp', 'Instagram', 'Galeri', 'Rehber', 'Banka'];
    
    for (let i = 0; i < 5; i++) {
      const box = document.createElement('div');
      box.className = 'data-box';
      if (i >= veri) {
        box.classList.add('lost');
        box.setAttribute('data-type', veriTipleri[i] + ' sÄ±zdÄ±rÄ±ldÄ±');
      } else {
        box.setAttribute('data-type', veriTipleri[i]);
      }
      dataBoxes.appendChild(box);
    }
    
    livesEl.innerHTML = '';
    livesEl.appendChild(dataText);
    livesEl.appendChild(dataBoxes);

    if (veri <= 2) {
      livesEl.style.color = "red";
      livesEl.classList.add('warning');
    } else {
      livesEl.style.color = "#00FF00";
      livesEl.classList.remove('warning');
    }
    if (veri === 1) {
      const warningDiv = document.createElement('div');
      warningDiv.className = 'last-life-warning';
      warningDiv.innerHTML = 'â ï¸ SON VERÄ°!<br>DÄ°KKATLÄ° OL!';
      document.body.appendChild(warningDiv);
      
      setTimeout(() => {
        warningDiv.remove();
      }, 3000);
    }
  }

  function maviEkran() {
    const bluescreen = document.createElement('div');
    bluescreen.className = 'bluescreen';
    bluescreen.innerHTML = `
      <div class="bluescreen-content">
        <div class="bluescreen-header">*** STOP: 0x000000D3 (VERI_SIZINTISI)</div>
        <div class="bluescreen-body">
          <p>TÃ¼m verileriniz sÄ±zdÄ±rÄ±ldÄ±!</p>
          <p>Hacker tÃ¼m verilerinize eriÅti...</p>
          <div class="bluescreen-progress">
            <div class="bluescreen-progress-bar"></div>
          </div>
          <p class="bluescreen-footer">Sistem gÃ¼venliÄi ihlal edildi. Yeniden baÅlatÄ±lÄ±yor...</p>
        </div>
      </div>
    `;
    document.body.appendChild(bluescreen);

    // Mavi ekran animasyonu
    const progressBar = bluescreen.querySelector('.bluescreen-progress-bar');
    let progress = 0;
    const interval = setInterval(() => {
      progress += 1;
      progressBar.style.width = `${progress}%`;
      if (progress >= 100) {
        clearInterval(interval);
        setTimeout(() => {
          document.body.style.backgroundColor = '#0000AA';
          bluescreen.style.opacity = '0';
          setTimeout(() => {
            document.body.innerHTML = '<div class="bluescreen">Sistem yeniden baÅlatÄ±lÄ±yor...</div>';
            setTimeout(() => {
              window.location.reload();
            }, 2000);
          }, 1000);
        }, 1000);
      }
    }, 50);
  }

  // Terminal metin animasyonu iÃ§in yardÄ±mcÄ± fonksiyon
  function typeText(element, text, speed = 50) {
    let i = 0;
    element.innerHTML = '';
    const span = document.createElement('span');
    span.className = 'terminal-text';
    element.appendChild(span);

    function type() {
      if (i < text.length) {
        span.textContent += text.charAt(i);
        i++;
        setTimeout(type, speed);
      } else {
        span.classList.remove('active');
      }
    }
    span.classList.add('active');
    type();
  }

  // Mevcut terminal.innerHTML atamalarÄ±nÄ± gÃ¼ncelle
  function updateTerminal(text, type = 'normal') {
    const div = document.createElement('div');
    div.className = `terminal-text ${type}-text`;
    
    if (text.includes('GÃREV #')) {
      const parts = text.split('\n');
      const header = parts[0];
      const content = parts.slice(1).join('\n');
      
      div.innerHTML = `
        <div class="task-container">
          <div class="task-header">${header}</div>
          <div class="task-content">${content}</div>
        </div>
      `;
      terminal.appendChild(div);
    } else if (type === 'warning') {
      div.innerHTML = `<div class="warning-message">${text}</div>`;
      terminal.appendChild(div);
    } else {
      div.textContent = text;
      terminal.appendChild(div);
      typeText(div, text);
    }
    
    terminal.scrollTop = terminal.scrollHeight;
  }

  // BaÅlangÄ±Ã§ mesajÄ±nÄ± gÃ¼ncelle
  terminal.innerHTML = '';
  const startDiv = document.createElement('div');
  startDiv.innerHTML = '>> DÄ°KKAT! Verileriniz sÄ±zmaya baÅladÄ±!<br>Her yanlÄ±Å komutta bir veri sÄ±zdÄ±rÄ±lacak.';
  startDiv.className = 'warning-text';
  terminal.appendChild(startDiv);

  const taskDiv = document.createElement('div');
  taskDiv.innerHTML = gÃ¶revler[gÃ¶revIndex].soru;
  taskDiv.className = 'task-container';
  terminal.appendChild(taskDiv);

  // Yapay zeka cevaplarÄ±
  const aiCevaplar = {
    dhcp: [
      "â ï¸ UYARI: Verileriniz hÄ±zla sÄ±zÄ±yor! DHCP komutunu doÄru girmelisin!",
      "ð¨ KRÄ°TÄ°K: Her yanlÄ±Å denemede bir veri daha kaybediyorsun!",
      "ð TEHLÄ°KE: Zaman azalÄ±yor ve verilerin sÄ±zÄ±yor! DoÄru komutu bul!",
      "â¡ ACÄ°L: Sistem gÃ¼venliÄi tehlike altÄ±nda! DoÄru DHCP komutunu gir!"
    ],
    kullanici: [
      "ð¥ YANLIÅ: Her saniye verilerin sÄ±zÄ±yor! KullanÄ±cÄ± adÄ±nÄ± doÄru gir!",
      "â¡ KRÄ°TÄ°K: Sistem alarm veriyor! DoÄru kullanÄ±cÄ± bilgilerini gir!",
      "ð TEHLÄ°KE: Verilerin hÄ±zla kayboluyor! KullanÄ±cÄ± adÄ±nÄ± kontrol et!",
      "ð¨ UYARI: GÃ¼venlik duvarÄ± seni tespit etti! Hemen doÄru bilgileri gir!"
    ],
    find: [
      "â ï¸ ACÄ°L: Dosya bulunamadÄ±! Verilerin sÄ±zmaya devam ediyor!",
      "ð TEHLÄ°KE: Her yanlÄ±Å denemede bir veri daha kaybediyorsun!",
      "ð¨ KRÄ°TÄ°K: Sistem seni tespit etti! DoÄru dosya yolunu bul!",
      "â¡ UYARI: Zaman azalÄ±yor! DoÄru locate komutunu gir!"
    ],
    scp: [
      "ð¥ YANLIÅ: Verilerin hÄ±zla sÄ±zÄ±yor! DoÄru SCP komutunu gir!",
      "ð TEHLÄ°KE: Her saniye bir veri daha kaybediyorsun!",
      "ð¨ KRÄ°TÄ°K: Sistem alarm veriyor! DoÄru transfer komutunu kullan!",
      "â¡ ACÄ°L: GÃ¼venlik duvarÄ± seni tespit etti! Hemen doÄru komutu gir!"
    ],
    sed: [
      "â ï¸ UYARI: Log dosyalarÄ± hala duruyor! DoÄru sed komutunu gir!",
      "ð TEHLÄ°KE: Ä°zlerin silinmedi! Hemen doÄru komutu bul!",
      "ð¨ KRÄ°TÄ°K: Sistem seni tespit etti! DoÄru silme komutunu kullan!",
      "â¡ ACÄ°L: Zaman azalÄ±yor! DoÄru sed komutunu gir!"
    ],
    rm: [
      "ð¥ YANLIÅ: Log dosyalarÄ± hala duruyor! DoÄru silme komutunu gir!",
      "ð TEHLÄ°KE: Ä°zlerin silinmedi! Hemen doÄru komutu bul!",
      "ð¨ KRÄ°TÄ°K: Sistem seni tespit etti! DoÄru rm komutunu kullan!",
      "â¡ ACÄ°L: Zaman azalÄ±yor! DoÄru silme komutunu gir!"
    ],
    genel: [
      "ð TEHLÄ°KE: Her yanlÄ±Å denemede bir veri daha kaybediyorsun!",
      "ð¨ KRÄ°TÄ°K: Sistem seni tespit etti! DoÄru komutu bul!",
      "â¡ ACÄ°L: Zaman azalÄ±yor! DoÄru komutu gir!",
      "ð¥ YANLIÅ: Verilerin hÄ±zla sÄ±zÄ±yor! DoÄru komutu bul!"
    ]
  };

  // Son kullanÄ±lan cevaplarÄ± takip etmek iÃ§in
  const sonKullanilanCevaplar = {};

  // Rastgele cevap seÃ§me fonksiyonu (tekrar etmeyecek Åekilde)
  function rastgeleCevap(dizi, tip) {
    if (!sonKullanilanCevaplar[tip]) {
      sonKullanilanCevaplar[tip] = [];
    }

    if (sonKullanilanCevaplar[tip].length >= dizi.length) {
      sonKullanilanCevaplar[tip] = [];
    }

    const kullanilabilirCevaplar = dizi.filter(cevap => 
      !sonKullanilanCevaplar[tip].includes(cevap)
    );

    const secilenCevap = kullanilabilirCevaplar[
      Math.floor(Math.random() * kullanilabilirCevaplar.length)
    ];

    sonKullanilanCevaplar[tip].push(secilenCevap);
    return secilenCevap;
  }

  // Yapay zeka yardÄ±mcÄ± fonksiyonu
  function aiYardimci(komut) {
    const komutTipleri = {
      'dhcp': 'dhcp',
      't.timucin': 'kullanici',
      'find': 'find',
      'scp': 'scp',
      'sed': 'sed',
      'rm': 'rm'
    };

    // Komut tipini belirle
    let tip = 'genel';
    for (const [anahtar, deger] of Object.entries(komutTipleri)) {
      if (komut.includes(anahtar)) {
        tip = deger;
        break;
      }
    }

    // GÃ¶rev bazlÄ± Ã¶zel durumlar
    if (tip === 'genel') {
      const gÃ¶revTipleri = ['dhcp', 'kullanici', 'find', 'scp', 'rm'];
      tip = gÃ¶revTipleri[gÃ¶revIndex] || 'genel';
    }

    return rastgeleCevap(aiCevaplar[tip], tip);
  }

  // Terminal editÃ¶rÃ¼ iÃ§in yeni fonksiyonlar ekleyelim
  function showNanoEditor(content) {
    const editorDiv = document.createElement('div');
    editorDiv.className = 'nano-editor';
    editorDiv.innerHTML = `
      <div class="editor-header">
        <span>GNU nano 6.2</span>
        <span class="file-info">File: /home/t.timucin/Documents/organizasyon_vize.txt</span>
      </div>
      <div class="editor-content" contenteditable="true" spellcheck="false"></div>
      <div class="editor-instructions">
        <div class="instruction-item">ð¡ YÃ¶n tuÅlarÄ±yla hareket edin</div>
        <div class="instruction-item">ð¾ CTRL+O ile kaydedin</div>
        <div class="instruction-item">â CTRL+X ile Ã§Ä±kÄ±n</div>
      </div>
      <div class="editor-footer">
        <span>^G YardÄ±m</span>
        <span>^O Kaydet</span>
        <span>^W Ara</span>
        <span>^K Kes</span>
        <span>^X ÃÄ±kÄ±Å</span>
      </div>
    `;
    terminal.appendChild(editorDiv);
    
    const editorContent = editorDiv.querySelector('.editor-content');
    editorContent.textContent = content;
    
    // Activate editor mode
    isEditorMode = true;
    currentEditorContent = content;
    
    // Add editor styles
    const style = document.createElement('style');
    style.textContent = `
      .nano-editor {
        background: #000;
        border: 1px solid var(--primary-color);
        margin: 10px 0;
        padding: 5px;
        font-family: 'Fira Code', monospace;
      }
      
      .editor-header {
        color: var(--primary-color);
        border-bottom: 1px solid var(--primary-color);
        padding: 5px;
        margin-bottom: 5px;
        display: flex;
        justify-content: space-between;
      }
      
      .file-info {
        color: var(--warning-color);
      }
      
      .editor-content {
        white-space: pre;
        padding: 10px;
        min-height: 300px;
        color: var(--text-color);
        outline: none;
        caret-color: var(--primary-color);
        line-height: 1.4;
      }
      
      .editor-content:focus {
        box-shadow: 0 0 5px var(--primary-color);
      }
      
      .editor-instructions {
        padding: 10px;
        background: rgba(0, 255, 0, 0.1);
        border: 1px solid var(--primary-color);
        margin: 10px 0;
        border-radius: 4px;
      }
      
      .instruction-item {
        color: var(--warning-color);
        margin: 5px 0;
        font-size: 0.9em;
      }
      
      .editor-footer {
        border-top: 1px solid var(--primary-color);
        padding: 5px;
        display: flex;
        justify-content: space-between;
        color: var(--primary-color);
      }
    `;
    document.head.appendChild(style);

    // Handle editor keyboard events
    editorContent.addEventListener('input', (e) => {
      currentEditorContent = e.target.textContent;
    });

    editorContent.addEventListener('keydown', (e) => {
      if (e.ctrlKey) {
        if (e.key === 'o') {
          e.preventDefault();
          saveFile();
          const saveMsg = document.createElement('div');
          saveMsg.className = 'success-text';
          saveMsg.innerHTML = 'ð¾ Dosya baÅarÄ±yla kaydedildi!';
          terminal.appendChild(saveMsg);
        } else if (e.key === 'x') {
          e.preventDefault();
          exitEditor();
          const exitMsg = document.createElement('div');
          exitMsg.className = 'success-text';
          exitMsg.innerHTML = 'â¨ EditÃ¶r kapatÄ±ldÄ±. DeÄiÅiklikler kaydedildi.';
          terminal.appendChild(exitMsg);
          
          // Show next task if available
          gÃ¶revIndex++;
          updateTaskStatus();
          if (gÃ¶revIndex < gÃ¶revler.length) {
            const nextTaskDiv = document.createElement('div');
            nextTaskDiv.innerHTML = gÃ¶revler[gÃ¶revIndex].soru;
            nextTaskDiv.className = 'task-container';
            terminal.appendChild(nextTaskDiv);
          }
        }
      }
    });

    // Focus on editor
    editorContent.focus();
  }

  function saveFile() {
    const successDiv = document.createElement('div');
    successDiv.innerHTML = 'Dosya kaydedildi: /home/t.timucin/Documents/organizasyon_vize.txt';
    successDiv.className = 'success-text';
    terminal.appendChild(successDiv);
  }

  function exitEditor() {
    isEditorMode = false;
    const editorDiv = document.querySelector('.nano-editor');
    if (editorDiv) {
      editorDiv.remove();
    }
    
    // Show success message for Task 6
    const successDiv = document.createElement('div');
    successDiv.innerHTML = gÃ¶revler[gÃ¶revIndex].yanÄ±t;
    successDiv.className = 'success-text';
    terminal.appendChild(successDiv);
    
    // Show Task 7 without incrementing gÃ¶revIndex or updating progress
    const nextTaskDiv = document.createElement('div');
    nextTaskDiv.innerHTML = gÃ¶revler[6].soru;
    nextTaskDiv.className = 'task-container';
    terminal.appendChild(nextTaskDiv);
    
    terminal.scrollTop = terminal.scrollHeight;
  }

  // Parola kÄ±rma animasyonu iÃ§in yeni fonksiyon
  function showPasswordCrackingAnimation() {
    const passwords = [
      "TunahanTimucin",
      "TimucinTunahan",
      "Tunahan1234",
      "Timucin1234",
      "TTimucin!",
      "TimuÃ§in!",
      "Tunahan!",
      "Tunahan_07",
      "Timucin_07",
      "Tunahan0712",
      "Timucin0712",
      "TunahanDÃ",
      "TimuÃ§inDÃ",
      "DÃTunahan",
      "DÃTimucin",
      "TunahanDU07",
      "TimucinDU07",
      "TunahanPass",
      "PassTunahan",
      "TunahanPwd",
      "TimucinPwd",
      "TunahanSifre",
      "TimucinSifre",
      "TunahanSifre07",
      "TimucinSifre07",
      "TunahanTT07",
      "TT07!",
      "TimuDÃ07",
      "Tunahan07!",
      "TTimucin1905",
      "TimuÃ§in1905",
      "Tunahan1905!",
      "Timucin1905!",
      "TunahanGÃ¼venlik",
      "TimucinGÃ¼venlik",
      "TunahanAdmin",
      "TimucinAdmin",
      "TunahanRoot",
      "TimucinRoot",
      "Tunahan.123"
    ];

    const animationDiv = document.createElement('div');
    animationDiv.className = 'password-cracking-animation';
    terminal.appendChild(animationDiv);

    let currentIndex = 0;
    const interval = setInterval(() => {
      if (currentIndex < passwords.length) {
        const attemptDiv = document.createElement('div');
        attemptDiv.className = 'password-attempt';
        attemptDiv.innerHTML = `Deneniyor: ${passwords[currentIndex]}`;
        animationDiv.appendChild(attemptDiv);
        terminal.scrollTop = terminal.scrollHeight;
        currentIndex++;
      } else {
        clearInterval(interval);
        const successDiv = document.createElement('div');
        successDiv.className = 'success-text';
        successDiv.innerHTML = 'Parola bulundu: Tunahan.123  [â]';
        animationDiv.appendChild(successDiv);
        
        const learnDiv = document.createElement('div');
        learnDiv.innerHTML = `ð ÃÄren: ${ogreticiNotlar[gÃ¶revIndex]}`;
        learnDiv.className = 'warning-text';
        animationDiv.appendChild(learnDiv);
        
        gÃ¶revIndex++;
        updateTaskStatus();
        
        if (gÃ¶revIndex < gÃ¶revler.length) {
          const nextTaskDiv = document.createElement('div');
          nextTaskDiv.innerHTML = gÃ¶revler[gÃ¶revIndex].soru;
          nextTaskDiv.className = 'task-container';
          terminal.appendChild(nextTaskDiv);
        }
      }
    }, 200);
  }

  // GÃ¶rev durumu gÃ¼ncelleme
  function updateTaskStatus() {
    const progress = (gÃ¶revIndex / gÃ¶revler.length) * 100;
    const progressBarFill = document.querySelector('.progress-bar-fill');
    const currentTask = document.querySelector('.current-task');
    
    if (progressBarFill) {
      progressBarFill.style.width = `${progress}%`;
    }
    
    if (currentTask) {
      currentTask.textContent = `GÃ¶rev ${gÃ¶revIndex}/${gÃ¶revler.length}`;
    }

    // Only show congratulations after Task 7 is completed successfully
    if (gÃ¶revIndex >= gÃ¶revler.length && veri > 0) {
      clearInterval(timerInterval);
      const congratsDiv = document.createElement('div');
      congratsDiv.className = 'success-text';
      congratsDiv.innerHTML = `
        <div style="text-align: center; margin: 20px 0;">
          <h2 style="color: #00FF00; text-shadow: 0 0 10px #00FF00;">ð TEBRÄ°KLER! ð</h2>
          <p style="font-size: 1.2em;">TÃ¼m gÃ¶revleri baÅarÄ±yla tamamladÄ±n!</p>
          <p style="font-size: 1.1em;">ð¥ Sistem gÃ¼venliÄini tamamen Ã§Ã¶kerttin! ð¥</p>
          <p style="font-size: 1.1em;">Kalan sÃ¼re: ${Math.floor(kalanSaniye / 60)}:${(kalanSaniye % 60).toString().padStart(2, '0')}</p>
          <p style="font-size: 1.1em;">Kalan veri: ${veri}</p>
        </div>
      `;
      terminal.appendChild(congratsDiv);
      input.disabled = true;
    }
  }

  // BaÅlangÄ±Ã§ta gÃ¶rev durumunu gÃ¼ncelle
  updateTaskStatus();

  // Dizin iÃ§eriÄini gÃ¶sterme fonksiyonu
  function showDirectoryContents(path) {
    const aktifGÃ¶rev = gÃ¶revler[gÃ¶revIndex];
    if (!aktifGÃ¶rev || !aktifGÃ¶rev.directories) return;

    // Normalize path handling
    let normalizedPath = path.toLowerCase().replace(/\\/g, '/');
    
    // Check both the full path and the simple directory name
    let contents = aktifGÃ¶rev.directories[normalizedPath] || 
                  aktifGÃ¶rev.directories[normalizedPath.split('/').pop()] ||
                  aktifGÃ¶rev.directories['/home/t.timucin/Documents'];
    
    if (contents) {
      const contentDiv = document.createElement('div');
      contentDiv.className = 'directory-listing';
      contentDiv.innerHTML = contents.map(item => {
        const isDirectory = !item.includes('.');
        const icon = isDirectory ? 'ð' : 'ð';
        const name = item.replace(/\s*\([^)]*\)/, '');
        return `<div class="file-item" data-type="${isDirectory ? 'directory' : 'file'}">
          ${icon} ${name}${isDirectory ? '/' : ''}
        </div>`;
      }).join('\n');
      terminal.appendChild(contentDiv);
      terminal.scrollTop = terminal.scrollHeight;
    } else {
      const errorDiv = document.createElement('div');
      errorDiv.className = 'error-text';
      errorDiv.textContent = 'Dizin bulunamadÄ±. "ls" komutu ile mevcut dizindeki dosyalarÄ± listeleyin.';
      terminal.appendChild(errorDiv);
      terminal.scrollTop = terminal.scrollHeight;
    }
  }

  input.addEventListener("keydown", (e) => {
    if (isEditorMode) {
      handleEditorKeyPress(e);
      return;
    }
    if (e.ctrlKey && e.key === 'g') {
      e.preventDefault();
      const aktifGÃ¶rev = gÃ¶revler[gÃ¶revIndex];
      if (aktifGÃ¶rev) {
        input.value = aktifGÃ¶rev.cevap;
        const warningDiv = document.createElement('div');
        warningDiv.innerHTML = 'â ï¸ DÄ°KKAT: GÃ¶rev otomatik tamamlandÄ±!';
        warningDiv.className = 'warning-text';
        terminal.appendChild(warningDiv);
      }
      return;
    }
    if (e.key === "Enter") {
      const komut = input.value.trim().toLowerCase().replace(/[Ã¼u]/g, 'u').replace(/[Ä±i]/g, 'i');
      
      const commandDiv = document.createElement('div');
      commandDiv.innerHTML = `> ${komut}`;
      commandDiv.className = 'terminal-text normal-text';
      commandDiv.style.marginLeft = '20px';
      terminal.appendChild(commandDiv);
      
      input.value = "";

      const aktifGÃ¶rev = gÃ¶revler[gÃ¶revIndex];

      // GÃ¶rev 5 iÃ§in Ã¶zel kontrol
      if (aktifGÃ¶rev && gÃ¶revIndex === 4) {
        if (!aktifGÃ¶rev.allowedCommands.includes(komut.split(' ')[0])) {
          const errorDiv = document.createElement('div');
          errorDiv.className = 'error-text';
          errorDiv.innerHTML = `â GeÃ§ersiz komut! KullanabileceÄiniz komutlar: ${aktifGÃ¶rev.allowedCommands.join(', ')}`;
          terminal.appendChild(errorDiv);
          veri--;
          gÃ¼ncelleVeri();
          return;
        }

        if (komut === 'ls') {
          const pathDiv = document.createElement('div');
          pathDiv.className = 'info-text';
          pathDiv.innerHTML = `ð Mevcut konum: ${aktifGÃ¶rev.currentPath}`;
          terminal.appendChild(pathDiv);
          
          showDirectoryContents(aktifGÃ¶rev.currentPath);
          aktifGÃ¶rev.lsUsed = true;
          if (aktifGÃ¶rev.currentPath === '/home/t.timucin/Documents') {
            aktifGÃ¶rev.documentsLsUsed = true;
          }
          return;
        } 
        else if (komut.startsWith('cd ')) {
          if (!aktifGÃ¶rev.lsUsed) {
            const warningDiv = document.createElement('div');
            warningDiv.className = 'warning-text';
            warningDiv.innerHTML = 'â ï¸ Ä°pucu: Ãnce "ls" komutu ile dosyalarÄ± listeleyin!';
            terminal.appendChild(warningDiv);
            return;
          }

          const targetPath = komut.substring(3).trim().toLowerCase();
          if (targetPath === 'documents' || targetPath === '/home/t.timucin/documents') {
            aktifGÃ¶rev.currentPath = '/home/t.timucin/Documents';
            aktifGÃ¶rev.cdDocuments = true;
            aktifGÃ¶rev.documentsLsUsed = false; // Reset ls flag for Documents directory
            const successDiv = document.createElement('div');
            successDiv.innerHTML = `ð Documents dizinine girildi.`;
            successDiv.className = 'success-text';
            terminal.appendChild(successDiv);
          } else {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-text';
            errorDiv.innerHTML = `
              â YanlÄ±Å dizin. 
              ð¡ Ä°pucu: SÄ±nav notlarÄ±nÄ±n Documents dizininde olduÄu sÃ¶ylendi.
              ð KullanÄ±n: cd Documents
            `;
            terminal.appendChild(errorDiv);
            veri--;
            gÃ¼ncelleVeri();
          }
          return;
        }
        else if (komut.startsWith('nano ')) {
          if (!aktifGÃ¶rev.cdDocuments) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-text';
            errorDiv.innerHTML = `
              â YanlÄ±Å dizin! 
              ð¡ Ä°pucu: Ãnce "cd Documents" ile Documents dizinine gitmelisiniz.
            `;
            terminal.appendChild(errorDiv);
            veri--;
            gÃ¼ncelleVeri();
            return;
          }

          if (!aktifGÃ¶rev.documentsLsUsed) {
            const warningDiv = document.createElement('div');
            warningDiv.className = 'warning-text';
            warningDiv.innerHTML = 'â ï¸ Ä°pucu: Documents dizinine girdikten sonra "ls" komutu ile dosyalarÄ± listelemelisiniz!';
            terminal.appendChild(warningDiv);
            veri--;
            gÃ¼ncelleVeri();
            return;
          }

          const fileName = komut.substring(5).trim().toLowerCase();
          if (fileName === 'organizasyon_vize.txt' && aktifGÃ¶rev.currentPath === '/home/t.timucin/Documents') {
            const successDiv = document.createElement('div');
            successDiv.innerHTML = aktifGÃ¶rev.yanÄ±t;
            successDiv.className = 'success-text';
            terminal.appendChild(successDiv);
            
            // Transition to Task 6 and show editor
            gÃ¶revIndex++;
            updateTaskStatus();
            
            // Show new task description
            const taskDiv = document.createElement('div');
            taskDiv.innerHTML = gÃ¶revler[gÃ¶revIndex].soru;
            taskDiv.className = 'task-container';
            terminal.appendChild(taskDiv);
            
            // Open editor with content
            showNanoEditor(gÃ¶revler[gÃ¶revIndex].editorContent);
          } else {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-text';
            errorDiv.innerHTML = `
              â Dosya bulunamadÄ±! 
              ð¡ Ä°pucu: "ls" ile dosyalarÄ± listeleyin ve doÄru dosya adÄ±nÄ± kullanÄ±n.
              ð DoÄru dosya adÄ±: organizasyon_vize.txt
            `;
            terminal.appendChild(errorDiv);
            veri--;
            gÃ¼ncelleVeri();
          }
          return;
        }
      }
      
      if (aktifGÃ¶rev && komut === aktifGÃ¶rev.cevap.toLowerCase()) {
        if (aktifGÃ¶rev.showPasswordCracking) {
          showPasswordCrackingAnimation();
        } else if (aktifGÃ¶rev.editorMode) {
          showNanoEditor(aktifGÃ¶rev.editorContent);
        } else {
          const successDiv = document.createElement('div');
          successDiv.innerHTML = aktifGÃ¶rev.yanÄ±t;
          successDiv.className = 'success-text';
          terminal.appendChild(successDiv);

          const learnDiv = document.createElement('div');
          learnDiv.innerHTML = `ð ÃÄren: ${ogreticiNotlar[gÃ¶revIndex]}`;
          learnDiv.className = 'warning-text';
          terminal.appendChild(learnDiv);

          gÃ¶revIndex++;
          updateTasks(); // GÃ¶rev tamamlandÄ±ÄÄ±nda gÃ¶revleri gÃ¼ncelle
          updateTaskStatus();
          
          if (gÃ¶revIndex < gÃ¶revler.length) {
            const nextTaskDiv = document.createElement('div');
            nextTaskDiv.innerHTML = gÃ¶revler[gÃ¶revIndex].soru;
            nextTaskDiv.className = 'task-container';
            terminal.appendChild(nextTaskDiv);
          }
        }
      } else if (komut in extraKomutlar) {
        const yanÄ±t = typeof extraKomutlar[komut] === "function" ? extraKomutlar[komut]() : extraKomutlar[komut];
        const aiDiv = document.createElement('div');
        aiDiv.innerHTML = `AI >> ${yanÄ±t}`;
        aiDiv.className = 'normal-text';
        terminal.appendChild(aiDiv);
      } else {
        veri--;
        gÃ¼ncelleVeri();
        if (veri <= 0) {
          maviEkran();
          input.disabled = true;
          return;
        }
        // Yapay zeka yardÄ±mÄ±
        const aiYanit = aiYardimci(komut);
        const aiDiv = document.createElement('div');
        aiDiv.innerHTML = aiYanit;
        aiDiv.className = 'normal-text';
        terminal.appendChild(aiDiv);

        // Hata mesajÄ±nÄ± ve kalan veriyi gÃ¶ster
        const errorDiv = document.createElement('div');
        errorDiv.innerHTML = `Veri sÄ±zdÄ±rÄ±ldÄ±.<br>Kalan veri: ${veri}`;
        errorDiv.className = 'error-text';
        terminal.appendChild(errorDiv);
      }
      terminal.scrollTop = terminal.scrollHeight;
    } else if (e.key === "ArrowUp") {
      e.preventDefault();
      if (commandHistoryIndex < commandHistoryList.length - 1) {
        commandHistoryIndex++;
        input.value = commandHistoryList[commandHistoryIndex];
      }
    } else if (e.key === "ArrowDown") {
      e.preventDefault();
      if (commandHistoryIndex > 0) {
        commandHistoryIndex--;
        input.value = commandHistoryList[commandHistoryIndex];
      } else {
        commandHistoryIndex = -1;
        input.value = "";
      }
    } else if (e.key === "Tab") {
      e.preventDefault();
      const value = input.value.toLowerCase();
      const matches = Object.keys(commandHints)
        .filter(cmd => cmd.toLowerCase().startsWith(value));
      
      if (matches.length === 1) {
        input.value = matches[0];
      } else if (matches.length > 1) {
        showCommandHints(input);
      }
    }
  });

  // Timer'Ä± baÅlat
  timerInterval = setInterval(() => {
    kalanSaniye -= hÄ±zKatÄ±;
    if (kalanSaniye <= 0) {
      timerEl.textContent = "SÃRE BÄ°TTÄ°";
      terminal.innerHTML += "\n\n>> [!] SÃ¼re doldu. GÃ¶rev baÅarÄ±sÄ±z.";
      input.disabled = true;
      clearInterval(timerInterval); // Timer'Ä± durdur
      return;
    }

    explosion.style.display = kalanSaniye <= 10 ? 'block' : 'none';

    const dk = String(Math.floor(kalanSaniye / 60)).padStart(2, '0');
    const sn = String(kalanSaniye % 60).padStart(2, '0');
    timerEl.textContent = `${dk}:${sn}`;

    // Update progress bar
    const oran = kalanSaniye / (10 * 60);
    progressBar.style.width = `${oran * 100}%`;
    
    // Update timer colors based on remaining time
    if (oran < 0.2) {
      progressBar.style.background = "red";
      timerEl.style.color = "red";
    } else if (oran < 0.5) {
      progressBar.style.background = "yellow";
      timerEl.style.color = "yellow";
    } else {
      progressBar.style.background = "limegreen";
      timerEl.style.color = "#00FF00";
    }
  }, 1000); // Run every 1000ms (1 second)

  // GÃ¶rev listesi
  const taskList = [
    "Sunucudan veri Ã§ek",
    "Åifreli klasÃ¶rÃ¼ Ã§Ã¶z",
    "Log kayÄ±tlarÄ±nÄ± sil",
    "AÄ trafiÄini analiz et",
    "GÃ¼venlik duvarÄ±nÄ± bypass et",
    "VeritabanÄ±na sÄ±z",
    "Sistem kontrolÃ¼nÃ¼ ele geÃ§ir"
  ];

  // GÃ¶revleri gÃ¼ncelleme fonksiyonu
  function updateTasks() {
    const taskItems = document.getElementById('taskItems');
    if (gÃ¶revIndex < taskList.length) {
      taskItems.innerHTML = `
        <div class="task-item">
          <span class="task-content">${taskList[gÃ¶revIndex]}</span>
        </div>
      `;
    }
  }

  // Sayfa yÃ¼klendiÄinde ilk gÃ¶revi baÅlat
  document.addEventListener("DOMContentLoaded", function() {
    updateTasks();
  });

  // Ä°pucu gÃ¶sterme fonksiyonu
  function showHint() {
    if (typeof gÃ¶revIndex !== 'undefined' && ogreticiNotlar[gÃ¶revIndex]) {
      // Her iki ipucuda bir veri sÄ±zdÄ±r
      window.hintCount = (window.hintCount || 0) + 1;
      if (window.hintCount % 2 === 0) {
        veri--;
        gÃ¼ncelleVeri();
      }
      const hintDiv = document.createElement('div');
      hintDiv.className = 'warning-text';
      hintDiv.innerHTML = `ð Ä°pucu: ${ogreticiNotlar[gÃ¶revIndex]}`;
      terminal.appendChild(hintDiv);
      terminal.scrollTop = terminal.scrollHeight;
    }
  }

  // Ä°pucu butonuna tÄ±klanÄ±nca
  const hintButton = document.querySelector('.hint-button');
  if (hintButton) {
    hintButton.addEventListener('click', showHint);
  }

  // Terminal komutunda 'ipucu' girilirse
  input.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      const komut = input.value.trim().toLowerCase();
      if (komut === 'ipucu') {
        showHint();
        input.value = "";
        return;
      }
    }
    // ... mevcut kod ...
  });
});
</script>
</body>
</html>